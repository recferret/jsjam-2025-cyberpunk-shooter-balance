package game.impl.scene.impl.game;

import engine.impl.Borders;
import game.base.graphics.BitmapUtils;
import engine.base.geom.Rectangle;

class BorderWrapper {
    public final bmp:h2d.Bitmap;
    public final rect:Rectangle;
    public final id:Int;

    public function new(bmp:h2d.Bitmap, rect:Rectangle, id:Int) {
        this.bmp = bmp;
        this.rect = rect;
        this.id = id;
    }
}

class GameBorders {

    public final rects = [
        new Rectangle(179.62748876043676, 89.66923570969814, 32, 32),
        new Rectangle(212.1001926782274, 89.66923570969814, 32, 32),
        new Rectangle(245.39499036608865, 88.84714193962749, 32, 32),
        new Rectangle(75.22157996146436, 149.27103403982017, 32, 32),
        new Rectangle(75.22157996146436, 173.5228002569043, 32, 32),
        new Rectangle(44.393063583815035, 115.56518946692357, 32, 32),
        new Rectangle(44.393063583815035, 82.2703917790623, 32, 32),
        new Rectangle(71.52215799614645, 32.12267180475273, 32, 32),
        new Rectangle(104.81695568400771, 31.711624919717405, 32, 32),
        new Rectangle(136.87861271676303, 31.711624919717405, 32, 32),
        new Rectangle(179.62748876043676, 61.30700064226076, 32, 32),
        new Rectangle(170.1734104046243, 32.12267180475273, 32, 32),
        new Rectangle(45.626204238921005, 206.8175979447656, 32, 32),
        new Rectangle(45.626204238921005, 239.29030186255622, 32, 32),
        new Rectangle(45.626204238921005, 271.35195889531155, 32, 32),
        new Rectangle(45.626204238921005, 305.46885035324345, 32, 32),
        new Rectangle(45.626204238921005, 339.17469492614003, 32, 32),
        new Rectangle(45.626204238921005, 370.82530507386, 32, 32),
        new Rectangle(186.20423892100195, 274.6403339755941, 32, 32),
        new Rectangle(178.8053949903661, 372.7758509955042, 32, 32),
        new Rectangle(179.62748876043676, 340.30314707771356, 32, 32),
        new Rectangle(180.03853564547208, 307.0083493898523, 32, 32),
        new Rectangle(271.38832997987925, 239.4265593561368, 32, 32),
        new Rectangle(373.76257545271625, 210.77464788732394, 32, 32),
        new Rectangle(405.70327552986515, 232.71355170199104, 32, 32),
        new Rectangle(438.5870263326911, 232.71355170199104, 32, 32),
        new Rectangle(469.82658959537576, 232.71355170199104, 32, 32),
        new Rectangle(498.99396378269614, 279.0241448692153, 32, 32),
        new Rectangle(495.7225433526012, 233.12459858702636, 32, 32),
        new Rectangle(372.7967806841046, 232.6659959758551, 32, 32),
        new Rectangle(406.5253692999358, 210.51701991008352, 32, 32),
        new Rectangle(438.9980732177264, 210.51701991008352, 32, 32),
        new Rectangle(471.88182402055236, 210.51701991008352, 32, 32),
        new Rectangle(495.7225433526012, 210.51701991008352, 32, 32),
        new Rectangle(586.9749518304432, -5.282594733461785, 32, 32),
        new Rectangle(489.55684007707134, 55.141297366730896, 32, 32),
        new Rectangle(366.242774566474, 24.312780989081567, 32, 32),
        new Rectangle(270.8798972382788, 88.43609505459216, 32, 32),
        new Rectangle(302.11946050096344, 24.312780989081567, 32, 32),
        new Rectangle(45.21515735388568, 50.61978163134233, 32, 32),
        new Rectangle(334.1811175337187, 24.312780989081567, 32, 32),
        new Rectangle(270.8798972382788, 55.552344251766215, 32, 32),
        new Rectangle(399.5375722543353, 24.312780989081567, 32, 32),
        new Rectangle(432.42132305716126, 24.312780989081567, 32, 32),
        new Rectangle(466.12716763005784, 24.723827874116893, 32, 32),
        new Rectangle(522.8516377649325, 55.141297366730896, 32, 32),
        new Rectangle(549.980732177264, 55.141297366730896, 32, 32),
        new Rectangle(554.1833654463712, 23.490687219010915, 32, 32),
        new Rectangle(619.5398201669877, -5.282594733461785, 32, 32),
        new Rectangle(652.0125240847784, -5.282594733461785, 32, 32),
        new Rectangle(684.0741811175337, -4.8715478484264665, 32, 32),
        new Rectangle(716.135838150289, -5.282594733461785, 32, 32),
        new Rectangle(748.1974951830443, -5.282594733461785, 32, 32),
        new Rectangle(781.4922928709057, -5.282594733461785, 32, 32),
        new Rectangle(984.4585741811176, 78.57096981374438, 32, 32),
        new Rectangle(813.0520231213873, -5.282594733461785, 32, 32),
        new Rectangle(845.1136801541427, -5.282594733461785, 32, 32),
        new Rectangle(877.1753371868979, -5.282594733461785, 32, 32),
        new Rectangle(909.2369942196532, -4.8715478484264665, 32, 32),
        new Rectangle(942.1207450224792, -5.282594733461785, 32, 32),
        new Rectangle(974.5934489402698, 14.447655748233782, 32, 32),
        new Rectangle(984.4585741811176, 46.509312780989085, 32, 32),
        new Rectangle(984.0684104627767, 111.94164989939637, 32, 32),
        new Rectangle(495.4527162977867, 398.47183098591546, 32, 32),
        new Rectangle(462.6156941649899, 398.3802816901408, 32, 32),
        new Rectangle(462.6156941649899, 366.1871227364185, 32, 32),
        new Rectangle(495.4527162977867, 365.9567404426559, 32, 32),
        new Rectangle(462.6156941649899, 408.0382293762575, 32, 32),
        new Rectangle(495.4527162977867, 408.0382293762575, 32, 32),
        new Rectangle(400.80482897384303, 447.12977867203216, 32, 32),
        new Rectangle(368.6116700201207, 447.12977867203216, 32, 32),
        new Rectangle(337.0623742454728, 447.12977867203216, 32, 32),
        new Rectangle(305.1911468812877, 447.12977867203216, 32, 32),
        new Rectangle(272.99798792756536, 447.4517102615694, 32, 32),
        new Rectangle(240.48289738430583, 447.12977867203216, 32, 32),
        new Rectangle(208.61167002012073, 446.4859154929577, 32, 32),
        new Rectangle(337.0623742454728, 513.1257545271629, 32, 32),
        new Rectangle(400.80482897384303, 400.71428571428567, 32, 32),
        new Rectangle(367.96780684104624, 400.71428571428567, 32, 32),
        new Rectangle(335.13078470824945, 400.71428571428567, 32, 32),
        new Rectangle(303.2595573440644, 400.71428571428567, 32, 32),
        new Rectangle(914.1368209255534, 660.3501006036217, 32, 32),
        new Rectangle(914.1368209255534, 693.1871227364185, 32, 32),
        new Rectangle(914.1368209255534, 726.0241448692153, 32, 32),
        new Rectangle(914.1368209255534, 758.861167002012, 32, 32),
        new Rectangle(981.420523138833, 916.3722334004024, 32, 32),
        new Rectangle(981.7424547283701, 883.8571428571429, 32, 32),
        new Rectangle(981.7424547283701, 851.6639839034206, 32, 32),
        new Rectangle(981.420523138833, 818.8269617706237, 32, 32),
        new Rectangle(981.420523138833, 785.989939637827, 32, 32),
        new Rectangle(981.7424547283701, 753.4748490945674, 32, 32),
        new Rectangle(981.7424547283701, 720.3158953722334, 32, 32),
        new Rectangle(981.7424547283701, 687.8008048289738, 32, 32),
        new Rectangle(981.420523138833, 655.6076458752515, 32, 32),
        new Rectangle(981.7424547283701, 622.7706237424547, 32, 32),
        new Rectangle(982.7082494969818, 591.2213279678068, 32, 32),
        new Rectangle(950.8370221327967, 559.0281690140845, 32, 32),
        new Rectangle(950.5150905432595, 526.5130784708249, 32, 32),
        new Rectangle(981.7424547283701, 493.3008048289738, 32, 32),
        new Rectangle(981.7424547283701, 460.7857142857143, 32, 32),
        new Rectangle(981.7424547283701, 427.62676056338023, 32, 32),
        new Rectangle(981.7424547283701, 395.11167002012075, 32, 32),
        new Rectangle(981.7424547283701, 362.2746478873239, 32, 32),
        new Rectangle(981.7424547283701, 330.40342052313883, 32, 32),
        new Rectangle(981.7424547283701, 297.56639839034204, 32, 32),
        new Rectangle(981.7424547283701, 264.40744466800805, 32, 32),
        new Rectangle(981.7424547283701, 231.57042253521126, 32, 32),
        new Rectangle(629.9557344064386, 522.361167002012, 32, 32),
        new Rectangle(653.5835010060362, 487.827967806841, 32, 32),
        new Rectangle(621.0684104627767, 487.5060362173038, 32, 32),
        new Rectangle(621.0684104627767, 454.669014084507, 32, 32),
        new Rectangle(621.0684104627767, 421.8319919517103, 32, 32),
        new Rectangle(621.0684104627767, 388.99496981891343, 32, 32),
        new Rectangle(620.7464788732394, 356.4798792756539, 32, 32),
        new Rectangle(621.0684104627767, 325.2525150905433, 32, 32),
        new Rectangle(621.0684104627767, 300.4637826961771, 32, 32),
        new Rectangle(653.5835010060362, 300.1418511066398, 32, 32),
        new Rectangle(653.9054325955734, 332.9788732394366, 32, 32),
        new Rectangle(653.9054325955734, 366.1378269617706, 32, 32),
        new Rectangle(654.5492957746478, 398.00905432595573, 32, 32),
        new Rectangle(654.8712273641851, 430.5241448692153, 32, 32),
        new Rectangle(653.9054325955734, 456.6006036217304, 32, 32),
        new Rectangle(910.8822937625754, 379.3480885311871, 32, 32),
        new Rectangle(878.689134808853, 379.1639839034205, 32, 32),
        new Rectangle(845.8521126760563, 379.4859154929577, 32, 32),
        new Rectangle(813.3370221327967, 380.12977867203216, 32, 32),
        new Rectangle(788.2263581488933, 380.4517102615694, 32, 32),
        new Rectangle(788.2263581488933, 347.6146881287726, 32, 32),
        new Rectangle(755.3893360160965, 336.02515090543255, 32, 32),
        new Rectangle(755.0674044265593, 303.8319919517103, 32, 32),
        new Rectangle(755.0674044265593, 271.96076458752515, 32, 32),
        new Rectangle(787.9044265593561, 271.96076458752515, 32, 32),
        new Rectangle(820.0975855130785, 271.96076458752515, 32, 32),
        new Rectangle(852.9346076458752, 271.96076458752515, 32, 32),
        new Rectangle(884.8058350100604, 272.28269617706235, 32, 32),
        new Rectangle(916.6770623742455, 271.96076458752515, 32, 32),
        new Rectangle(916.6770623742455, 304.1539235412475, 32, 32),
        new Rectangle(916.6770623742455, 336.669014084507, 32, 32),
        new Rectangle(916.6770623742455, 348.2585513078471, 32, 32),
        new Rectangle(624.3490945674043, 624.0643863179074, 32, 32),
        new Rectangle(432.443661971831, 626.0714285714286, 32, 32),
        new Rectangle(465.28068410462777, 626.0714285714286, 32, 32),
        new Rectangle(497.7957746478873, 626.0714285714286, 32, 32),
        new Rectangle(432.443661971831, 658.9084507042253, 32, 32),
        new Rectangle(432.1217303822937, 691.1016096579476, 32, 32),
        new Rectangle(432.1217303822937, 723.6167002012072, 32, 32),
        new Rectangle(432.1217303822937, 756.4537223340039, 32, 32),
        new Rectangle(496.41851106639837, 789.1016096579476, 32, 32),
        new Rectangle(463.2595573440644, 789.1016096579476, 32, 32),
        new Rectangle(432.3541247484909, 789.1016096579476, 32, 32),
        new Rectangle(496.09657947686117, 756.9084507042253, 32, 32),
        new Rectangle(496.41851106639837, 725.0372233400402, 32, 32),
        new Rectangle(496.41851106639837, 692.5221327967806, 32, 32),
        new Rectangle(496.41851106639837, 659.3631790744466, 32, 32),
        new Rectangle(666.8501006036217, 751.4356136820925, 32, 32),
        new Rectangle(640.4517102615694, 752.079476861167, 32, 32),
        new Rectangle(691.9607645875251, 719.2424547283701, 32, 32),
        new Rectangle(622.4235412474849, 719.5643863179074, 32, 32),
        new Rectangle(589.5865191146881, 688.3370221327967, 32, 32),
        new Rectangle(589.5865191146881, 720.2082494969819, 32, 32),
        new Rectangle(589.5865191146881, 654.8561368209255, 32, 32),
        new Rectangle(657.1921529175049, 654.8561368209255, 32, 32),
        new Rectangle(689.7072434607645, 655.5, 32, 32),
        new Rectangle(691.9607645875251, 687.3712273641851, 32, 32),
    ];

    public final rectWrappers = new Map<Int, BorderWrapper>();
    public var rectToReplace:BorderWrapper;

    private var rectsIndex = 0;

    public function new(parent:h2d.Object) {
        for (rect in rects) {
            final bmp = BitmapUtils.createFromColoredTile(32, 32, Colors.RedColor);
            bmp.setPosition(rect.x, rect.y);
            bmp.alpha = 0.3;
            parent.addChild(bmp);

            final borderWrapper = new BorderWrapper(bmp, rect, rectsIndex);
            rectWrappers.set(rectsIndex, borderWrapper);
            Borders.instance.rectangles.set(rectsIndex, borderWrapper.rect);

            rectsIndex++;

            final interaction = new h2d.Interactive(32, 32, bmp);
            interaction.setPosition(bmp.x - 16, bmp.y - 16);
            interaction.onPush = function(event:hxd.Event) {
                rectToReplace = borderWrapper;
            }
            interaction.onRelease = function(event:hxd.Event) {
                rectToReplace = null;
            }
        }
    }
}